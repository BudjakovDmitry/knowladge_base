# Запуск, остановка и перезапуск конфигурации

Чтобы запустить nginx, нужно выполнить исполняемый файл. На Ubuntu при установке nginx через пакетный менеджер apt, исполняемый файл автоматически попадает в PATH, поэтому для запуска можно просто ввести

```bash
nginx
```

Когда nginx запущен, им можно управлять, вызывая исполняемый файл с параметром -s.

```bash
nginx -s signal
```

Сигнал может быть одним из нижеследующих:

* stop - быстрое завершение
* quit - плавное завершение
* reload - перезагрузка конфигурационного файла
* reopen - переоткрытие лог-файлов

Команда должна быть выполнена под тем же пользователем, под которым был запущен nginx.

Плавное завершение позволяет остановить процессы nginx с ожиданием окончания обслуживания  текущих запросов рабочими процессами.

Изменения, сделанные в конфигурационном файле, не будут применены, пока команда перезагрузить конфигурацию не будет вручную отправлена nginx или он не будет перезапущен. Получив сигнал reload, главный процесс проверяет правильность синтаксиса нового конфигурационного файла и пытается применить конфигурацию, содержащуюся в нем. Если это ему удается, главный процесс запускает новые рабочие процессы и отправляет сообщения старым рабочим процессам с требованием завершиться. В противном случае, главный процесс откатывает изменения и продолжает работать со старой конфигурацией. Старые рабочие процессы, получив команду завершиться, прекращают принимать новые запросы и продолжают обслуживать текущие запросы до тех пор, пока все такие запросы не будут обслужены. После этого старые рабочие процессы завершаются.

```bash
service nginx status  # узнать статус Nginx
service nginx start   # запустить Nginx
service nginx stop    # остановить Nginx
```

```bash
nginx -v  # узнать версию Nginx
nginx -V  # узнать версию и более детальную информацию
```
