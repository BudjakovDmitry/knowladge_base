# Стандарты оформления кода

## Общий шаблон

Все составные операторы Python, т.е. операторы со вложенными другими операторами, соблюбают общий шаблон: строка заголовка, завершаемая двоеточием, и вложенного блока кода, который обычно указывается под строкой заголовка и с отступом.

```
строка заголовка:
    вложенный блок операторов
```

Двоеточие является обязательным.

Для обозначения вложенного блока кода используются отступы. Неважно *как* сделан отступ (пробелы или табуляция) или насколько он *большой* (допускается применять любое количество пробелов или табуляций). Возможно даже, что отступ одного вложенного блока будет отличаться от отсутпа другого вложенного блока. Синтаксическое рправило гласит лишь, что все операторы одного вложенного блока должны быть смещены на одинаковое расстояние вправо. Также нельзя смешивать в одном вложенном блоке кода пробелы и табуляции. Это приведет к ошибке.

Существует один особый случай, когда тело составного оператора может находиться в той же самой стоке, что и строка заголовка. Появляется возможность записывать однострочные операторы if, однострочные циклы while, for и т.д.

```python
if x > y: print('spam')
```

Это будет работать, только если тело составного оператора само не содержит составных операторов. То есть после двоеточия разрешено указывать лишь простые операторы типа присваивания, вызовы функций и т.п. Дополнительные части составных операторов, таких как else, обязаны располагаться на отдельных строках. Тела составных операторов могут состоять из множества простых операторов, разделенных точкой с запятой, но обычно такой подход не одобряется.

## Конец строки является концом оператора

Операторы не обязаны завершаться точкой с запятой, как принято в C-подобных языках. Общепринятым является подход, когда конец строки является концом опратора. И подавляющее большинство кода пишется по одному оператору в строке.

```python
x = 1;  # так можно, но не нужно
x = 2   # вот так правильно
```

Однако из этого правила есть исключение. Python позволяет помещать несколько операторов в одну строку, разделяя их точкой с запятой.

```python
a = 1; b = 2; print(a + b)
```

Такое применение допустимо, только если объединяемые операторы не являются составными.

Возможно и обратное: разделение простого оператора на несколько строк. Для этого оператор должен быть помещен в скобки: круглые (), квадратные [] или фигурные {}. Любой код, помещенный в такие скобки может занимать несколько строк: оператор не закончиться до тех пор, пока не будет достигнута закрывающая скобка из пары.

```python
mylist = [111,
          222,
          333]
```

Отступы в строках продолжения роли не играют, хотя как правило выравниваются каким-то образом для лучшей читаемости.

```python
x = (a + b +
     c + d)
```

```python
if (a == 1 and
    b == 2 and
    c == 3):
    print('spam')
```

Существует более старая альтернатива этому способу, когда оператор можно продолжить в следующей строке, если предыдущая строка заканчивается на обратную косую черту.

```python
x = 1 + 2 + \
    3 + 4
```

Однако такой способ считается устаревшим и он гораздо болеее подвержен ошибкам (косую черту легко не заметить и после нее не должно быть пробелов).
