# Дата и время

Даты обрабатываются в соответствии с григорианским календарем, причем это делается даже в тех случаях, когда дата относится к тому моменту времени, когда этот календарь в данной стране еще не был принят.

## date

Рекомендуемый ISO 8601 формат ввода дат: "yyyy-mm-dd". Этот формат используется в PostgreSQL по умолчанию. Однако, можно использовать и другие форматы ввода, например: "Sep 12, 2016".

```sql
SELECT '2016-09-12::date;'

  date
-----------
2016-09-12
```

В следующем примере используется другой формат ввода, но формат вывода трежний, поскольку мы его не меняли.

```sql
SELECT 'Sep 12, 2016'::date;

   date
-----------
2016-09-12
```

## time и time with time zone

Эти форматы служат для хранения времени суток. `time` хранит только время суток. `time with timezone` хранит время и часовой пояс. Документация PostgreSQL не рекомендует использовать тип `time with time zone`, поскольку смещение, соответствующее конкретному часовому поясу, может зависеть от даты перехода на летнее время и обратно, но в этом типе дата отсутствует.

```sql
SELECT '21:15'::time;
SELECT '21:15:32'::time;
```

Время можно вводить в 12-часовом формате, используя суффиксы am и pm.

```sql
SELECT '10:15:43 am'::time;
SELECT '10:15:43 pm'::time;
```

## timestamp и timestamp with time zone

Этот тип получается в результате объединения типов даты и времени. `timestamp` не учитывает часовой пояс, `timestamp with time zone` учитывает часовой пояс.

Для типа `timestamp with time zone` есть сокращенное название `timestamptz` (является расширением PostgreSQL).

```sql
SELECT timestamp with time zone '2016-09-21 22:25:35';
SELECT timestamp '2016-09-21 22:25:35';
```

Оба типа - `timestamp` и `timestamptz` - занимают одинаковый объем: 8 байтов. Значения timestamptz хранятся будучи приведенными к нулевому часовому поясу (UTC), а пеерд выводом приводятся к часовому поясу пользователя.

## interval

Это тип, который представляет продолжительность отрезка времени между двумя моментами времени.

Его формат:

```
quantity unit [quantity unit, ...] direction
```

* unit - единица измерения
* quantity - количество таких единиц

В качестве единиц измерения можно использовать слудующие: microsecond, millisecond, second, minute, hour, day, week, month, year, decade, centry, millennium.

Параметр direction может принимать значение ago (в этом случае отсчет будет идти в обратном направлении) или быть пустым.

```sql
SELECT '1 year 2 months ago'::interval;
```

Существует альтернативный формат, предлагаемый стандартом ISO 8601:

```
P [years-months-days] [T hours:minutes:seconds]
```

Здесь строка должна начинаться с символа P, а символ Т разделяет дату и время.

```sql
SELECT 'P0001-02-03T04:05:06'::interval;
```

Интервал - это отрезок времени между двумя временными отметками. Поэтому значение этого типа можно получить при вычитании одной временной отметки из другой.

```sql
SELECT ('2016-09-16'::timestamp - '2016-09-01'::timestamp)::interval;
```
