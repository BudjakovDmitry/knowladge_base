# Группировка тестов в класс

Как только мы создадим несколько тестов, у нас может возникнуть желание объеденить их в класс. pytest позволяет создавать класс, который бы вместил в себя множество тестов.

```pyton
# content of test_class.py
class TestClass:
    def test_one(self):
        x = "this"
        assert "h" in x

    def test_two(self):
        x = "hello"
        assert hasattr(x, "check")
```

pytest следует соглашению по обнаружению тестов, поэтому он найдет обе функции с префиксом test_. Нет нужды чтобы наш класс наседовался от чего-либо. Нужно просто удостовериться, чтобы имя класса начиналось с префикса `Test`, иначе класс будет пропущен.

Группировка тестов в классы можт быть полезна для:

* организации тестов
* совместное использование фикстур тестами только одного конкретного класса
* применение оценок на уровне класса и их неявное применение ко всем тестам

При группировании тестов в классы следует помнить, что каждый тест имеет свой экземпляр класса. Если бы все тесты использовали один экземпляр класса, это бы очень негативно сказывалось на изоляции тестов, что является плохой практикой в тестировании. Пример сказанного ниже.

```python
class TestClassDemoInstance:
    value = 0

    def test_one(self):
        self.value = 1
        assert self.value == 1

    def test_two(self):
        assert self.value == 1
```

Первый тест пройдет успешно и изменит значение атрибута value. Второй тест упадет с ошибкой, потому что значение атрибута value в нем не изменилось и оталось 0. Проще говоря, первый тест внес измениния в тестовое окружение, однако эти измениния не влияют на остальные тесты, так как они работают со своими экземплярами класса.
