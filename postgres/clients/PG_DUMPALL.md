# pg_dumpall

## Синтаксис

```bash
pg_dumpall [connect-param...][param...]
```

## Описание

Утилита pg_dumpall предназначена для выгрузки всех баз данных кластера PostgreSQL в один файл в формате скрипта. Этот файл содержит команды SQL, так что передав его на вход psql, можно восстановить все базы данных. Для формирования этого файла вызывается pg_dump для каждой базы данных в кластере. pg_dumpall также выгружает все глобальные объекты, общие для всех баз данных, то есть роли и табличные пространства (pg_dump не сохраняет эти объекты).

Так как утилита pg_dumpall читает таблицы из всех баз данных, для получения полного содержимого баз, запускать ее нужно, как правило, от имени суперпользователя. Также права суперпользователя потребуются при последующем выполнении сохраненного скрипта, чтобы он смог добавить роли и создать базы данных.

Генерируемый скрипт направляется в стандартный поток вывода.

Утилите pg_dumpall требуется подключение к серверу PostgreSQL несколько раз (к каждой базе по отдельности). Если вы проходите проверку подлинности по паролю, вам придется каждый раз ввоить пароль. Чтобы избежать этого, удобно иметь файл ~/.pgpass

## Параметры

__-f file_name__<br>
__--file=file_name__

Направить вывод в указанный файл. Если этот параметр опущен, скрипт передается в стандартный вывод.

---

__-g__<br>
__--globals-only__

Выгружать только глобальные объекты (роли и табличные простарнства), без баз данных.

---

__-s__<br>
__--schema-only__

Выгружать только определения объектов (схемы), без данных.
