# Ветвления

## if

### Синтаксис

```bash
if [[ condition ]]
then
    # code
fi
```

Между условием и символами [[ и ]] обязательно должен быть пробел.

Синтаксис с необязательной частью else:

```bash
if [[ condition ]]
then
    # code
else
    # code
fi
```

Общий случай с elif и else. Конструкций elif может быть сколько угодно.

```bash
if [[ condition1 ]]
then
    # code
elif [[ condition2 ]]
then
    # code
else
    # code
fi
```

Компактная запись

```bash
if [[ $var=="test"  ]]; then ...; fi
# ...
```

## case

Как правило, используется, когда у нас есть какая-то переменная и в зависимости от ее значений нужно выполнить тот или иной код.

### Синтаксис

```bash
case variable in
val_1)
    # code if variable==val_1
    ;;
val2)
    # code if variable==val_2
    ;;
*)
    # code если переменная не равна ни одному из вариантов
esac
```

## Условия

### Строки
```bash
-z <string>  # проверка что строка пустая
-n <string>  # проверка что строка не пустая

<string1> == <string2>  # строки равны
<string1> != <string2>  # строки не равны

<string1> < <string2>  # сравнение строк
<string1> > <string2>  # строки сравниваются в лексикографическом порядке
```

Примеры

```bash
if [[ -z $var ]]
then
# ...
```

### Числа

```bash
-eq  # равно (equal)
-ne  # не равно (not equal)
-lt  # меньше (less than)
-le  # меньше или равно (less or equal)
-gt  # больше (greater than)
-ge  # больше или равно (greater or equal)
```

Примеры

```bash
if [[ $var1 -eq $var2  ]]
then
# ...
```

Следует отметить, что флаги -eq, -ne, -lt и т.д. применяются только к числам, а знаки "==", "<", ">" только к строкам. Нельзя сравнивать две строки при помощи оператора -gt. Если мы попробуем сравнить два числа при помощи оператора ">", то результат будет не тот какой мы ожидаем: числа будут восприниматься как строки и сравниваться в лексикографическом порядке (например "10" меньше чем "2").

### Файлы

```bash
-e <path>  # путь существует
-f <path>  # это файл
-d <path>  # это директория
-s <path>  # размер файла больше 0
-x <path>  # файл исполняемый
```

### Логические условия

```bash
!  # отрицание логического выражения
&&  #  логическое "И"
||  #  логическое "ИЛИ"
```

## Примеры

Проверка, является ли первый аргумент пустым
```bash
if [[ -z $1 ]]
then
    echo "First argument is empty"
fi
```

Проверка двух строк на равенство
```bash
if [[ $var1 == $var2 ]]
then
    echo "Variables are equal"
fi
```

Проверка значения числа

```bash
if [[ $students -eq 0 ]]
then
    echo "No students"
elif [[ $students -eq 1 ]]
then
    echo "$1 student"
elif [[ $1 -ge 2 && $1 -le 4 ]]
then
    echo "$1 students"
else
    echo "A lot of students"
fi
```
