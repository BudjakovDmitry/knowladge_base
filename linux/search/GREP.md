# grep

grep - утилита для поиска слов внутри файлов.

Команда используется для поиска подстроки в файле.
```bash
grep "<string>" <file>
```

Найти слово "hello" в файле file.txt
```bash
grep "hello" file.txt
```

## Опции

Посчитать количество строк, которые содержат указанную подстроку в файле
```bash
grep -c "<string>" <file>
```

```bash
grep -c "123" file.txt
```

---

Найти подстроку во всех файлах в папке
```bash
grep -r "<substring>" <folder>
```

```bash
grep -r "world" ~/
```

---

Найти список файлов с нужной строкой
```bash
grep -l "<string>" <file>
```

Найти список файлов, где искомой строки нет
```bash
grep -L "<string>" <file>
```

```bash
grep -l "friend" books/*
grep -L "friend" books/*
```

---

Выводить номер строчки, на которой встретилось искомое слово

```bash
grep -n "<string>" file
```

```bash
grep -n "friend" books/*
```

---

Не искать дальше после заданного числа вхождений
```bash
grep -m <number> "<string>" file
```

```bash
grep -m 2 -n "friend" books/*
```

---

Выводить нужное число строк после вхождения

```bash
grep -A <number> "<string>" <file>
```

---

Выводить нужное число строк до вхождения

```bash
grep -B <number> "<string>" <file>
```

---

Выводить нужное число строк до и после вхождения

```bash
grep -C <number> "<string>" <file>
```

У опций ABC есть особенность: если в файле идут подряд несколько строк, где нашлось совпадение, то контекст будет выведен до и/или после всей группы строк, а не до и/или после каждой строки.

---

Команда grep может искать по шаблону. В качестве шаблона используются регулярные выражения.

```bash
grep -E "<template>" <file>
```

Примеры:

```bash
grep -E "^go" <file>  # найти строки, начинающиеся с "go"
grep -E "go$" <file>  # найти строки, оканчивающиеся на "go"
```

Некоторые правила регулярных выражений:

* `*` - произвольное количество букв
* `+` - не меньше одной буквы
* `?` - либо 0 либо 1 буква
* `[...] - диапазон символов

Примеры:

```bash
# слова из 6 и более букв, оканчивающиеся на right
grep -E "[a-z]+right" <file>

