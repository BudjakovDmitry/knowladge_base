# vim
## Запуск
Можно запустить редактор, введя в терминале команду `vim`. В результате откроется vim, в котором можно создавать текст и сохранить его.

Можно аргументом указать путь к файлу. Если файл существует, то он откроется, если не существует, то откроется пустой файл и при сохранении он запишется с этим именем.
```bash
vim /path/to/file
```

Можно аргументами передать несколько файлов. В этом случае они все откроются.
```bash
vim /path/to/file1 /path/to/file2
```

## Перемещение курсора
Для перемещения курсора используются клавиши: **h, j, k, l**.

Советы по запоминанию:
* клавиша h находится слева и перемещает влево
* клавиша l находится справа и перемещает вправо
* клавиша j похожа на стрелку 'вниз'

### Использование объектов
Курсор можно перемещать по объектам. Общая вид команды:

```bash
[число] объект
```

Число говорит, сколько раз повторить команду. По умолчанию 1.

**w** - переместить курсор в начало следующего слова. Позволяет перемещаться по словам.

**3w** - повторит команду перемещения 3 раза: будут перепрыгнуты 2 слова и курсор остановится в начале третьего слова.

**e** - переместить курсор в конец теущего слова. Позволяет перемещаться по словам.

**b** - в начало предыдущего слова.

**$** - переместить курсор в конец текущей строки.

**^** - переместить курсор в начало текущей строки. Курсор будет перемещен на первый непробельный символ в строке.

**0** - переместить курсор в начало текущей строки. Курсор будет перемещен в самое начало строки, даже если первые символы пробельные.

## Завершение работы с vim
**:q** - выйти из Vim

**:q!** - выход из редактора без сохранения сделанных изменений.

## Редактирование текста
### Удаление
Находясь в обычном режиме нажать **x** для удаления символа под курсором.

### Объекты
Для удаления текста существует оператор **d**. Он позволяет работать с разными объектами.

Формат команды удаления такой:

```bash
d [число] объект или [число] d объект
```

объект - над чем должна быть выполнена команда удаления.

число - сколько раз повторить операцию удаления.

Список объектов:
* **w** - от курсора до конца слова, включая следующий пробел.
* **e** - от курсора до конца слова, НЕ включая следующий пробел.
* **$** - от курсора до конца строки.
* **^** - от курсора до начала строки.

Примеры:

**dw** удалить часть текста до конца слова. Если курсор помещен над первым символом слова, то будет удалено все слово. Если курсор располагается посередине слова, то будет удалена часть слова, следующая за курсором.

**d2w** - удалить два слова.

**d$** удалить текст до конца строки.

### Удаление целой строки
**dd** - удалить текущую строку

**3dd** - удалить три строки (текущую и 2 строки ниже).

### Вставка
Находясь в обычном режиме нажать **i** для вставки текста. Текст будет вставлен *перед* символом над, которым располагается курсор.

**a** для вставки текста после курсора. Текст будет вставлен *после* символа, над которым располагается курсор.

**p** для вставки последнего удаленного текста после курсора. Эта команда вставит текст ПОСЛЕ курсора. Если была удалена строка, то она будет помещена ПОД курсором.

### Добавление в конец строки
Находясь в обычном режиме нажать **A** для добавления текста в конец строки.

### Замена
**r** для замены символа под курсором. Курсор помещается на тот символ, который нужно заменить, жмется `r` и символ, на который нужно заменить.

**c** - команда замены. Она работает со всеми объектами, что и команда d

Формат:

`[число] c объект` или `c [число] объект`

**ce** заменить конечную часть слова. Будут удалены все символы от того, что стоит под курсором до конца слова. Также команда сразу же переводит в режим вставки.

**c$** заменить текст до конца строки.

#### поиск с заменой

**:s/было/стало** для замены "было" на стало" в строке. Команда найдет и заменит только первое вхождение в строке

**:s/было/стало/g** подстановка будет произведена глобально во всей строке.

**:#,#s/было/стало/g** подстановка будет совершена везде между двумя строками, где #,# - номера этих строк.

**:%s/было/стало/g** для замены всех вхождений во всем файле

**:%s/было/стало/gc** для поиска всех вхождений во всем файле и запроса подтверждения замены.

## Отмена
**u** - отменить результат работы предыдущей команды.

**U** - отменить исправления во всей строке.

**control + r** - вернуть изменения (отменить отмену).

## Сохранение изменений
**:w** - сохранить изменения

**:wq** - сохранить изменения и выйти из Vim

## Режимы
В Vim есть три режима работы:

1. Normal

   Это режим по умолчанию. Любая клавиша воспринимается как команда. Все описанные команды вводятся именно в режиме Normal.

2. Insert

   Режим ввода текста. Чтобы вернуться в нормальный режим, нажать <Esc>.

3. Visual

   Режим выделения. В этом режиме можно выделять фрагменты текста, копировать их, а затем в режиме вставки их вставлять.

Для того чтобы переместится из режима вставки текста в нормальный режим, нужно нажать <Esc>.

## Команды
**:help** - открыть общую справку

**:help <comand>** - открыть справку по команде

## Навигация по файлу
**control + g** - посмотреть текущее расположение в файле и информацию о файле.

**G** - переместиться в конец файла

**gg** - переместиться в начало файла

**[номер строки] G** - переместиться на строку с указанным номером.

**:[номер строки] <Enter>** - переместиться на строку с указанным номером

**control + u** - переместиться вверх на N строчек, где N обычно пол экрана.

**control + d** - переместиться вниз на N строчек, где N обычно пол экрана.

**control + o** - вернуться назад, на строку, где был до этого.

**control + i** - перемотка вперед на строки, где уже был.

## Поиск
**/ поисковая фраза** - будет произведен поиск вниз по тексту по данной фразе. Будет найдено первое вхождение. Чтобы искать ниже по тексту используется команда `n`. Чтобы искать вверх по тексту используется команда `N`.

**? поисковаф фраза** - будет произведен поиск вверх по тексту. В этом случае `n` будет продолжать поиск в верх по тексту, а `N` - вниз по тексту.

Когда при поиске достигается конец (начало) файла, то поиск продолжается с начала (конца).

### Поиск парных скобок
**%** используется для поиска парных скобок ( [ или {

Поместить курсор над скобкой, нажать `%`. Курсор должен переместиться на парную скобку. Повторное нажатие на `%` переместит курсор обратно.

## vimtutor
vimtutor - это очень хорошее авторуководство по vim.
