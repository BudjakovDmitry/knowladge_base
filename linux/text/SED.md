# sed

Sed - это команда, которая служит для того, чтобы изменять входные строчки. По умолчанию она принимает на вход строчки из stdin и пишет их в stdout, обрабатывая построчно с помощью заданной инструкции.

Инструкция пишется в одинарных кавычках.

Чтобы обработывать с помощью `sed` файлы, можно передать ей файл или использовать ее совместно в конвейере с `cat`.

```bash
cat <file> | sed 'instruction'
# или
sed 'instruction' <file>
```

Чтобы вывести результат в файл, можно воспользоваться перенаправлением вывода `> <file>` или использовать опции `-i, --in-place`.

## Инструкции

### Замена

Самая популярная инструкция - инструкция замены: `s/что_заменить/на_что_заменить/где`

s - substitute (замена)

g - заменить глобально

```bash
# заменить все John на Nick в файле old.txt и записать результат в new.txt
sed 's/John/Nick/g' old.txt > new.txt
```

sed поддерживает регулярные выражения. Для этого используется флаг -r.

```bash
# заменить все слова, которые начинаются на J и заканчиваются на n
# на Nick.
sed -r 's/J[a-z]*n/Nick/g' old.txt > new.txt
```

### Вывести нужные строчки

```bash
# вывести строки со 2 по 4
sed -n '2,4p' <file>

# вывести все строки кроме 2-4
sed '2,4d' <file>
```
